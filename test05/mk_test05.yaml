%YAML 1.2
---
#Set up logging
- !ConfigLogging
  stem: test05  #Don't forget to update this throughout this file when starting a new test
  level: TIMING
#Folder Structure
- !UpdateFolderStructure
  GroupFile: [solutions, test05]
- !DumpFolderStructure
  name: dump_folder_structure_mk
  outfile: !GroupFile folder_structure_mk.yaml
#Generate job list
- !JobListRequest
  name: joblist
  constfields:
    mcar1: 5.0 #Coarsest mesh density - ends of reservoirs, nm
    mcar2: 2.0 #for near corner of reservoir, nm
    mcar3: 1.0 #for edges of the slot, nm
    mcar4: 0.2 #Finest mesh density - around inclusions, nm
    S: 12.0 #Total center-to-center distance from one slot to a periodic copy, nm
    H: 40.0 #Distance to reservoir ends from slot opening, nm
    slot_length: 90.0 #Length of slot, thickness of membrane, nm
    inc1000_xcen: -20.0 #Coordinates for the center of the first reactive inclusion
    inc1000_rad: 1.0 #Radius for the first reactive inclusion, nm
    inc1100_xcen: 20.0 #Coordinates for the center of the second reactive inclusion
    inc1100_rad: 1.0 #Radius for the second reactive inclusion, nm
    incrad: 0.75 #Radius for the lattice inclusions, nm
    perturbation_rounds: 10 #Number of times to attempt a perturbation of the position of each lattice inclusion
    perturbation_stdev: 0.1 #Standard deviation of the perturbation magnitude (nm)
    minsep: 1000.0
  rangefields:
    #minsep: [5.0, 4.954545454545454, 4.909090909090909, 4.863636363636363, 4.818181818181818, 4.7727272727272725, 4.7272727272727275, 4.681818181818182, 4.636363636363637, 4.590909090909091, 4.545454545454545, 4.5, 4.454545454545455, 4.409090909090909, 4.363636363636363, 4.318181818181818, 4.2727272727272725, 4.2272727272727275, 4.181818181818182, 4.136363636363637, 4.090909090909091, 4.045454545454545, 4.0, 3.9545454545454546, 3.909090909090909, 3.8636363636363633, 3.8181818181818183, 3.7727272727272725, 3.7272727272727275, 3.6818181818181817, 3.6363636363636362, 3.590909090909091, 3.5454545454545454, 3.5, 3.4545454545454546, 3.409090909090909, 3.3636363636363633, 3.3181818181818183, 3.2727272727272725, 3.2272727272727275, 3.1818181818181817, 3.1363636363636362, 3.090909090909091, 3.0454545454545454, 3.0, 2.9545454545454546, 2.909090909090909, 2.8636363636363638, 2.8181818181818183, 2.7727272727272725, 2.727272727272727, 2.6818181818181817, 2.6363636363636362, 2.590909090909091, 2.5454545454545454, 2.5, 2.4545454545454546, 2.409090909090909, 2.3636363636363638, 2.318181818181818, 2.2727272727272725, 2.227272727272727, 2.1818181818181817, 2.1363636363636362, 2.090909090909091, 2.0454545454545454, 2.0, 1.9545454545454546, 1.9090909090909092, 1.8636363636363638, 1.818181818181818, 1.7727272727272725, 1.727272727272727, 1.6818181818181817, 1.6363636363636362, 1.5909090909090908, 1.5454545454545454, 1.5, 1.4545454545454546, 1.4090909090909092, 1.3636363636363633, 1.318181818181818, 1.2727272727272725, 1.227272727272727, 1.1818181818181817, 1.1363636363636362, 1.0909090909090908, 1.0454545454545454, 1.0, 0.9545454545454541, 0.9090909090909092, 0.8636363636363633, 0.8181818181818183, 0.7727272727272725, 0.7272727272727275, 0.6818181818181817, 0.6363636363636367, 0.5909090909090908, 0.545454545454545, 0.5] #Minimum surface-surface separation distance for inclusions, nm
    d: [3.0, 3.0606060606060606, 3.121212121212121, 3.1818181818181817, 3.242424242424242, 3.303030303030303, 3.3636363636363638, 3.4242424242424243, 3.484848484848485, 3.5454545454545454, 3.606060606060606, 3.666666666666667, 3.7272727272727275, 3.787878787878788, 3.8484848484848486, 3.909090909090909, 3.9696969696969697, 4.03030303030303, 4.090909090909091, 4.151515151515151, 4.212121212121212, 4.2727272727272725, 4.333333333333334, 4.3939393939393945, 4.454545454545455, 4.515151515151516, 4.575757575757576, 4.636363636363637, 4.696969696969697, 4.757575757575758, 4.818181818181818, 4.878787878787879, 4.9393939393939394, 5.0, 5.0606060606060606, 5.121212121212121, 5.181818181818182, 5.242424242424242, 5.303030303030303, 5.363636363636363, 5.424242424242424, 5.484848484848484, 5.545454545454545, 5.6060606060606055, 5.666666666666667, 5.7272727272727275, 5.787878787878788, 5.848484848484849, 5.909090909090909, 5.96969696969697, 6.03030303030303, 6.090909090909091, 6.151515151515151, 6.212121212121213, 6.272727272727273, 6.333333333333334, 6.3939393939393945, 6.454545454545455, 6.515151515151516, 6.575757575757576, 6.636363636363637, 6.696969696969697, 6.757575757575758, 6.818181818181818, 6.878787878787879, 6.9393939393939394, 7.0, 7.0606060606060606, 7.121212121212121, 7.181818181818182, 7.242424242424242, 7.303030303030303, 7.363636363636363, 7.424242424242425, 7.484848484848485, 7.545454545454546, 7.606060606060606, 7.666666666666667, 7.7272727272727275, 7.787878787878788, 7.848484848484849, 7.909090909090909, 7.96969696969697, 8.030303030303031, 8.09090909090909, 8.151515151515152, 8.212121212121211, 8.272727272727273, 8.333333333333334, 8.393939393939394, 8.454545454545455, 8.515151515151516, 8.575757575757576, 8.636363636363637, 8.696969696969697, 8.757575757575758, 8.818181818181818, 8.878787878787879, 8.93939393939394, 9.0]
    ##iterations: [1,2,3,4,5] #Different realizations of the random geometry
  outfile: !GroupFile joblist.csv
  dtype_outfile: !GroupFile joblist_dtypes.csv
#Generate the inner request file
- !TemplateFileRequest
  name: template
  tmplfile: !RequestTemplate test05.yaml.jinja2
  outfile: !GeneratedRequest test05.yaml
  prepcommands:
    - [load_csv, {infpath: !GroupFile joblist.csv, attrpath: data.joblist, dtype_csv_fpath: !GroupFile joblist_dtypes.csv}]
  data:
    testname: test05
    numproc: 2
